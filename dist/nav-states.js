var y=Object.defineProperty;var F=(o,t,r)=>t in o?y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r;var v=(o,t,r)=>F(o,typeof t!="symbol"?t+"":t,r);var n=class n{constructor(t=null){n.prequalDomain=t||this.determinePrequalDomain(),this.init()}determinePrequalDomain(){try{return window.location.hostname.includes(".dev")?"https://get.point.dev":"https://get.point.com"}catch(t){return Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.determinePrequalDomain",metaData:{hostname:window.location?.hostname}}),"https://get.point.com"}}async init(){try{let t=await n.fetchVisitorData();t&&this.updateToast(t)}catch(t){Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.init",metaData:{prequalDomain:n.prequalDomain}}),console.error("Error initializing ResumeApplicationToast:",t)}}static async fetchVisitorData(){try{let t=n.prequalDomain+"/api/v1/visitors";return(await fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(t){return Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.fetchVisitorData",metaData:{url:n.prequalDomain+"/api/v1/visitors"}}),console.error("Error fetching visitor data:",t),null}}static async fetchRedirectLink(){let t=n.prequalDomain+"/api/v2/estimates/resume";try{return(await fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(r){return Bugsnag.notify(r,{severity:"error",context:"ResumeApplicationToast.fetchRedirectLink",metaData:{url:t}}),console.error("Error fetching redirect link:",r),null}}updateToast(t){try{if(!t||!(t.hasActiveDocket&&!t.hasActiveApplicantFlow||t.hasActiveDocket||t.estimateKey))return;let c=document.querySelector("#toast-mail"),s=document.querySelector("#toast-offer");if(!s)throw new Error("Toast offer element not found");c&&(c.style.display="none"),s.style.display="flex";let a=s.querySelector("a");a&&a.addEventListener("click",async l=>{l.preventDefault();try{let i=await n.fetchRedirectLink();i&&i.url?window.location.assign(i.url):(Bugsnag.notify(new Error("No redirect URL received"),{severity:"warning",context:"ResumeApplicationToast.updateToast.clickHandler",metaData:{response:i}}),window.location.href=a.getAttribute("href"))}catch(i){Bugsnag.notify(i,{severity:"error",context:"ResumeApplicationToast.updateToast.clickHandler",metaData:{fallbackUrl:a.getAttribute("href")}}),console.error("Error redirecting to application:",i),window.location.href=a.getAttribute("href")}}),n.isVisible=!0}catch(r){Bugsnag.notify(r,{severity:"error",context:"ResumeApplicationToast.updateToast",metaData:{visitor:t,isVisible:n.isVisible}}),console.error("Error updating toast:",r)}}};v(n,"isVisible",!1),v(n,"prequalDomain",null);var d=n;document.addEventListener("DOMContentLoaded",function(){let o={navbarComponent:document.querySelector(".navbar_component_updated"),logoColorElement:document.querySelector(".logo-color"),logoWhiteElement:document.querySelector(".logo-white"),navDropdownTrigger:document.querySelectorAll(".nav_dropdown_trigger"),navbarSingleLink:document.querySelectorAll(".navbar_single_link"),navbarBtnPrimary:document.querySelector(".navbar_btn[navbar-btn='primary']"),navbarBtnSecondary:document.querySelector(".navbar_btn[navbar-btn='secondary']"),menuIconLines:document.querySelectorAll(".menu-icon1_line-top, .menu-icon1_line-middle, .menu-icon1_line-bottom"),navToast:document.querySelector(".nav-toast")};if(!o.navbarComponent){console.log("No Nav Found.");return}let t=o.navbarComponent.getAttribute("navbar-default");o.navbarComponent.style.opacity="1";let r=(e,u)=>{e&&Object.assign(e.style,u)},c=(e,u,m)=>{e&&(e.addEventListener("mouseover",function(){e.style.color=u}),e.addEventListener("mouseout",function(){e.style.color=m}))};function s(e,u,m){let p=function(){e&&(e.style.backgroundColor=u)},f=function(){e&&(e.style.backgroundColor=m)};return e&&(e.addEventListener("mouseover",p),e.addEventListener("mouseout",f)),{mouseoverFunc:p,mouseoutFunc:f}}let a,l;function i(){a&&l&&(o.navbarBtnPrimary.removeEventListener("mouseover",a.mouseoverFunc),o.navbarBtnPrimary.removeEventListener("mouseout",a.mouseoutFunc),o.navbarBtnSecondary.removeEventListener("mouseover",l.mouseoverFunc),o.navbarBtnSecondary.removeEventListener("mouseout",l.mouseoutFunc)),window.scrollY>64||t==="filled"?(r(o.navbarComponent,{transition:"background-color 0.2s linear",backgroundColor:"#FFFFFF"}),r(o.logoColorElement,{transition:"opacity 0.2s linear",opacity:"1"}),o.navDropdownTrigger.forEach(e=>{r(e,{color:"#444"}),c(e,"#016789","#444")}),o.navbarSingleLink.forEach(e=>{e.classList.contains("navbar_btn")||(r(e,{color:"#444"}),c(e,"#016789","#444"))}),r(o.navbarBtnPrimary,{backgroundColor:"#F4C65E",color:"#444"}),r(o.navbarBtnSecondary,{backgroundColor:"#F6F7F9",color:"#444"}),a=s(o.navbarBtnPrimary,"#f1b937","#F4C65D"),l=s(o.navbarBtnSecondary,"#ebebeb","#F6F7F9"),o.menuIconLines.forEach(e=>{r(e,{backgroundColor:"#444"})})):(r(o.navbarComponent,{backgroundColor:"transparent"}),r(o.logoColorElement,{opacity:"0"}),o.navDropdownTrigger.forEach(e=>{r(e,{color:"#FFFFFF"}),c(e,"#FFFFFF","#FFFFFF")}),o.navbarSingleLink.forEach(e=>{e.classList.contains("navbar_btn")||(r(e,{color:"#FFFFFF"}),c(e,"#FFFFFF","#FFFFFF"))}),r(o.navbarBtnPrimary,{backgroundColor:"transparent",color:"#FFFFFF"}),r(o.navbarBtnSecondary,{backgroundColor:"transparent",color:"#FFFFFF"}),a=s(o.navbarBtnPrimary,"rgba(255,255,255,0.06)","transparent"),l=s(o.navbarBtnSecondary,"rgba(255,255,255,0.06)","transparent"),o.menuIconLines.forEach(e=>{r(e,{backgroundColor:""})})),o.navToast&&(window.scrollY>100?o.navToast.style.marginTop="-2.5rem":o.navToast.style.marginTop="0")}i(),window.addEventListener("scroll",i),o.navToast&&(o.navToast.style.opacity="1",o.navToast.style.transition="margin-top 0.2s linear",window.scrollY>100?o.navToast.style.marginTop="-2.5rem":o.navToast.style.marginTop="0");let b=new d});
//# sourceMappingURL=/dist/nav-states.js.map
