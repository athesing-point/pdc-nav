var f=Object.defineProperty;var y=(n,e,r)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var m=(n,e,r)=>y(n,typeof e!="symbol"?e+"":e,r);var i=class i{constructor(e=null){i.prequalDomain=e||this.determinePrequalDomain(),this.init()}determinePrequalDomain(){return window.location.hostname.includes(".dev")?"https://get.point.dev":"https://get.point.com"}async init(){try{let e=await i.fetchVisitorData();e&&this.updateToast(e)}catch(e){console.error("Error initializing ResumeApplicationToast:",e)}}static async fetchVisitorData(){try{let e=i.prequalDomain+"/api/v1/visitors";return(await fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(e){return console.error("Error fetching visitor data:",e),null}}static async fetchRedirectLink(){let e=i.prequalDomain+"/api/v2/estimates/resume";try{return(await fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(r){return console.error("Error fetching redirect link:",r),null}}updateToast(e){if(!e)return;let r=document.querySelector("#toast");if(!r)return;let s=r.querySelectorAll("a");if(!s||s.length===0)return;let t=null,a=null;if(e.hasActiveDocket&&!e.hasActiveApplicantFlow?(t="Looks like you previously started an application",a="Check status"):e.hasActiveDocket?(t="Looks like you previously started an application",a="Resume Application"):e.estimateKey&&(t="You have a recently created offer",a="View latest offer"),t&&a){let c=r.querySelectorAll(".text-link-soft_underline");c&&c.length>0&&c.forEach(l=>{l.textContent=t}),s.forEach(l=>{l.addEventListener("click",async F=>{F.preventDefault();try{let o=await i.fetchRedirectLink();o&&o.url?window.location.assign(o.url):(console.error("No redirect URL received"),window.location.href=l.getAttribute("href"))}catch(o){console.error("Error redirecting to application:",o),window.location.href=l.getAttribute("href")}})}),i.isVisible=!0}}};m(i,"isVisible",!1),m(i,"prequalDomain",null);var d=i;document.addEventListener("DOMContentLoaded",function(){let n={navbarComponent:document.querySelector(".navbar_component_updated"),logoColorElement:document.querySelector(".logo-color"),logoWhiteElement:document.querySelector(".logo-white"),navDropdownTrigger:document.querySelectorAll(".nav_dropdown_trigger"),navbarSingleLink:document.querySelectorAll(".navbar_single_link"),navbarBtnPrimary:document.querySelector(".navbar_btn[navbar-btn='primary']"),navbarBtnSecondary:document.querySelector(".navbar_btn[navbar-btn='secondary']"),menuIconLines:document.querySelectorAll(".menu-icon1_line-top, .menu-icon1_line-middle, .menu-icon1_line-bottom"),navToast:document.querySelector(".nav-toast")};if(!n.navbarComponent){console.log("No Nav Found.");return}let e=n.navbarComponent.getAttribute("navbar-default");n.navbarComponent.style.opacity="1";let r=(o,u)=>{o&&Object.assign(o.style,u)},s=(o,u,v)=>{o&&(o.addEventListener("mouseover",function(){o.style.color=u}),o.addEventListener("mouseout",function(){o.style.color=v}))};function t(o,u,v){let p=function(){o&&(o.style.backgroundColor=u)},b=function(){o&&(o.style.backgroundColor=v)};return o&&(o.addEventListener("mouseover",p),o.addEventListener("mouseout",b)),{mouseoverFunc:p,mouseoutFunc:b}}let a,c;function l(){a&&c&&(n.navbarBtnPrimary.removeEventListener("mouseover",a.mouseoverFunc),n.navbarBtnPrimary.removeEventListener("mouseout",a.mouseoutFunc),n.navbarBtnSecondary.removeEventListener("mouseover",c.mouseoverFunc),n.navbarBtnSecondary.removeEventListener("mouseout",c.mouseoutFunc)),window.scrollY>64||e==="filled"?(r(n.navbarComponent,{transition:"background-color 0.2s linear",backgroundColor:"#FFFFFF"}),r(n.logoColorElement,{transition:"opacity 0.2s linear",opacity:"1"}),n.navDropdownTrigger.forEach(o=>{r(o,{color:"#444"}),s(o,"#016789","#444")}),n.navbarSingleLink.forEach(o=>{o.classList.contains("navbar_btn")||(r(o,{color:"#444"}),s(o,"#016789","#444"))}),r(n.navbarBtnPrimary,{backgroundColor:"#F4C65E",color:"#444"}),r(n.navbarBtnSecondary,{backgroundColor:"#F6F7F9",color:"#444"}),a=t(n.navbarBtnPrimary,"#f1b937","#F4C65D"),c=t(n.navbarBtnSecondary,"#ebebeb","#F6F7F9"),n.menuIconLines.forEach(o=>{r(o,{backgroundColor:"#444"})})):(r(n.navbarComponent,{backgroundColor:"transparent"}),r(n.logoColorElement,{opacity:"0"}),n.navDropdownTrigger.forEach(o=>{r(o,{color:"#FFFFFF"}),s(o,"#FFFFFF","#FFFFFF")}),n.navbarSingleLink.forEach(o=>{o.classList.contains("navbar_btn")||(r(o,{color:"#FFFFFF"}),s(o,"#FFFFFF","#FFFFFF"))}),r(n.navbarBtnPrimary,{backgroundColor:"transparent",color:"#FFFFFF"}),r(n.navbarBtnSecondary,{backgroundColor:"transparent",color:"#FFFFFF"}),a=t(n.navbarBtnPrimary,"rgba(255,255,255,0.06)","transparent"),c=t(n.navbarBtnSecondary,"rgba(255,255,255,0.06)","transparent"),n.menuIconLines.forEach(o=>{r(o,{backgroundColor:""})})),n.navToast&&(window.scrollY>100?n.navToast.style.marginTop="-2.5rem":n.navToast.style.marginTop="0")}l(),window.addEventListener("scroll",l),n.navToast&&(n.navToast.style.opacity="1",n.navToast.style.transition="margin-top 0.2s linear",window.scrollY>100?n.navToast.style.marginTop="-2.5rem":n.navToast.style.marginTop="0");let F=new d});
