var b=Object.defineProperty;var F=(o,r,t)=>r in o?b(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t;var p=(o,r,t)=>F(o,typeof r!="symbol"?r+"":r,t);var s=class s{constructor(r=null){s.prequalDomain=r||this.determinePrequalDomain(),this.init()}determinePrequalDomain(){try{return window.location.hostname.includes(".dev")?"https://get.point.dev":"https://get.point.com"}catch(r){return Bugsnag.notify(r,{severity:"error",context:"ResumeApplicationToast.determinePrequalDomain",metaData:{hostname:window.location?.hostname}}),"https://get.point.com"}}async init(){try{let r=document.querySelector("#toast"),t=document.querySelector("#toast-mail"),a=document.querySelector("#toast-offer");r&&Object.assign(r.style,{transition:"all 0.3s ease-in-out",opacity:"1",height:"3.5rem",overflow:"hidden"}),t&&Object.assign(t.style,{transition:"all 0.3s ease-in-out",opacity:"1",transform:"translateY(0)",display:"flex",position:"relative"}),a&&Object.assign(a.style,{transition:"all 0.3s ease-in-out",opacity:"0",transform:"translateY(-100%)",position:"absolute",top:"0",left:"0",right:"0",display:"flex",visibility:"hidden"});let n=await s.fetchVisitorData();n&&this.updateToast(n)}catch(r){Bugsnag.notify(r,{severity:"error",context:"ResumeApplicationToast.init",metaData:{prequalDomain:s.prequalDomain}}),console.error("Error initializing ResumeApplicationToast:",r)}}static async fetchVisitorData(){let r=s.prequalDomain+"/api/v1/visitors";try{let t=await fetch(r,{method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok){let n=await t.text().catch(()=>"could not read response body");throw new Error(`HTTP error! status: ${t.status}, body: ${n}`)}let a=await t.text();return a?JSON.parse(a):null}catch(t){return Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.fetchVisitorData",metaData:{url:r}}),console.error("Error fetching visitor data:",t),null}}static async fetchRedirectLink(){let r=s.prequalDomain+"/api/v2/estimates/resume";try{let t=await fetch(r,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok){let n=await t.text().catch(()=>"could not read response body");throw new Error(`HTTP error! status: ${t.status}, body: ${n}`)}let a=await t.text();return a?JSON.parse(a):null}catch(t){return Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.fetchRedirectLink",metaData:{url:r}}),console.error("Error fetching redirect link:",t),null}}updateToast(r){try{if(!r||!(r.hasActiveDocket&&!r.hasActiveApplicantFlow||r.hasActiveDocket||r.estimateKey)||!document.querySelector("#toast"))return;let n=document.querySelector("#toast-mail"),i=document.querySelector("#toast-offer");if(!i)return;i.style.visibility="visible",n&&(n.style.opacity="0",n.style.transform="translateY(-100%)"),setTimeout(()=>{i&&(i.style.opacity="1",i.style.transform="translateY(0)"),n&&(n.style.display="none")},300);let c=i.querySelector("a");c&&c.addEventListener("click",async d=>{d.preventDefault();try{let l=await s.fetchRedirectLink();l&&l.url?window.location.assign(l.url):(Bugsnag.notify(new Error("No redirect URL received"),{severity:"warning",context:"ResumeApplicationToast.updateToast.clickHandler",metaData:{response:l}}),window.location.href=c.getAttribute("href"))}catch(l){Bugsnag.notify(l,{severity:"error",context:"ResumeApplicationToast.updateToast.clickHandler",metaData:{fallbackUrl:c.getAttribute("href")}}),console.error("Error redirecting to application:",l),window.location.href=c.getAttribute("href")}}),s.isVisible=!0}catch(t){Bugsnag.notify(t,{severity:"error",context:"ResumeApplicationToast.updateToast",metaData:{visitor:r,isVisible:s.isVisible}}),console.error("Error updating toast:",t)}}};p(s,"isVisible",!1),p(s,"prequalDomain",null);var m=s;document.addEventListener("DOMContentLoaded",function(){let o={navbarComponent:document.querySelector(".navbar_component_updated"),logoColorElement:document.querySelector(".logo-color"),logoWhiteElement:document.querySelector(".logo-white"),navDropdownTrigger:document.querySelectorAll(".nav_dropdown_trigger"),navbarSingleLink:document.querySelectorAll(".navbar_single_link"),navbarBtnPrimary:document.querySelector(".navbar_btn[navbar-btn='primary']"),navbarBtnSecondary:document.querySelector(".navbar_btn[navbar-btn='secondary']"),menuIconLines:document.querySelectorAll(".menu-icon1_line-top, .menu-icon1_line-middle, .menu-icon1_line-bottom"),navToast:document.querySelector(".nav-toast")};if(!o.navbarComponent){console.log("No Nav Found.");return}let r=o.navbarComponent.getAttribute("navbar-default");o.navbarComponent.style.opacity="1";let t=(e,u)=>{e&&Object.assign(e.style,u)},a=(e,u,y)=>{e&&(e.addEventListener("mouseover",function(){e.style.color=u}),e.addEventListener("mouseout",function(){e.style.color=y}))};function n(e,u,y){let f=function(){e&&(e.style.backgroundColor=u)},v=function(){e&&(e.style.backgroundColor=y)};return e&&(e.addEventListener("mouseover",f),e.addEventListener("mouseout",v)),{mouseoverFunc:f,mouseoutFunc:v}}let i,c;function d(){i&&c&&(o.navbarBtnPrimary.removeEventListener("mouseover",i.mouseoverFunc),o.navbarBtnPrimary.removeEventListener("mouseout",i.mouseoutFunc),o.navbarBtnSecondary.removeEventListener("mouseover",c.mouseoverFunc),o.navbarBtnSecondary.removeEventListener("mouseout",c.mouseoutFunc)),window.scrollY>64||r==="filled"?(t(o.navbarComponent,{transition:"background-color 0.2s linear",backgroundColor:"#FFFFFF"}),t(o.logoColorElement,{transition:"opacity 0.2s linear",opacity:"1"}),o.navDropdownTrigger.forEach(e=>{t(e,{color:"#444"}),a(e,"#016789","#444")}),o.navbarSingleLink.forEach(e=>{e.classList.contains("navbar_btn")||(t(e,{color:"#444"}),a(e,"#016789","#444"))}),t(o.navbarBtnPrimary,{backgroundColor:"#F4C65E",color:"#444"}),t(o.navbarBtnSecondary,{backgroundColor:"#F6F7F9",color:"#444"}),i=n(o.navbarBtnPrimary,"#f1b937","#F4C65D"),c=n(o.navbarBtnSecondary,"#ebebeb","#F6F7F9"),o.menuIconLines.forEach(e=>{t(e,{backgroundColor:"#444"})})):(t(o.navbarComponent,{backgroundColor:"transparent"}),t(o.logoColorElement,{opacity:"0"}),o.navDropdownTrigger.forEach(e=>{t(e,{color:"#FFFFFF"}),a(e,"#FFFFFF","#FFFFFF")}),o.navbarSingleLink.forEach(e=>{e.classList.contains("navbar_btn")||(t(e,{color:"#FFFFFF"}),a(e,"#FFFFFF","#FFFFFF"))}),t(o.navbarBtnPrimary,{backgroundColor:"transparent",color:"#FFFFFF"}),t(o.navbarBtnSecondary,{backgroundColor:"transparent",color:"#FFFFFF"}),i=n(o.navbarBtnPrimary,"rgba(255,255,255,0.06)","transparent"),c=n(o.navbarBtnSecondary,"rgba(255,255,255,0.06)","transparent"),o.menuIconLines.forEach(e=>{t(e,{backgroundColor:""})})),o.navToast&&(window.scrollY>100?o.navToast.style.marginTop="-2.5rem":o.navToast.style.marginTop="0")}d(),window.addEventListener("scroll",d),o.navToast&&(o.navToast.style.opacity="1",o.navToast.style.transition="margin-top 0.2s linear",window.scrollY>100?o.navToast.style.marginTop="-2.5rem":o.navToast.style.marginTop="0");let l=new m});
//# sourceMappingURL=nav-states.js.map
